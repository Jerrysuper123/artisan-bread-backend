<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

  {{!-- fontawesome --}}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"
integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw=="
crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     
     <link rel="stylesheet" href="../../style.css" >

    <link rel="shortcut icon" type="image/x-icon" href="./images/grain.png" />
    <title>Artisan Bread Admin</title>
  </head>
  <body>
    {{!-- navbar starts here --}}

    {{!-- if there is user display nav bar, otherwise do not display --}}
    {{#if user}}
     <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">

          <a class="navbar-brand d-flex flex-column" href="/products">
            <img class="iconImage" src="./images/grain.png" alt="icon" />
            <span class="ms-1 accentThreeColor logoText">Artisan</span>
            <span class="ms-4 accentOneColor logoSubText">BREAD</span>
          </a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="ms-auto navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item me-5">
                <a class="nav-link" aria-current="page" href="/products">
           <i class="fa-solid fa-bread-slice"></i>
                  Products
                </a>
              </li>

              <li class="nav-item me-5">
                <a class="nav-link" href="/orders">
          
                         {{!-- unattended orders --}}
                    <section class="position-relative">
                      <i class="fa-solid fa-cash-register"></i>
                      Orders
                      <span class="ms-2 position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        99+
                        <span class="visually-hidden">unread messages</span>
                      </span>
                    </section>
                  {{!-- unattended orders --}}
                </a>
              </li>

               <li class="nav-item me-5">
                <a class="nav-link" href="/users">
                     <i class="fa-solid fa-user"></i>
                     Users
                </a>
              </li>
            </ul>
            
            {{!-- display logged in user info --}}
                {{#if user}}
                    Hi, {{user.username}}

                    <a href="/users/logout" class="ms-3 btn btn-primary btn-sm">Logout</a>

                {{else}}
                    Welcome, guest
                  <a href="/users/login" class="ms-3 btn btn-primary btn-sm">Login</a>
                {{/if}}
           {{!-- display logged in user info ends here --}}

          </div>
        </div>
      </nav>
    {{/if}}
   
    {{!-- navbar ends here --}}

    <div class="container-fluid">
      {{!-- display of flash messages --}}
          {{#if success_messages }}        
            {{#each success_messages}}
                <div class="alert alert-success">
                    {{this}}
                </div>
            {{/each}}        
        {{/if}}

        {{#if error_messages}}
            {{#each error_messages}}
                <div class="alert alert-danger">
                    {{this}}
                </div>
            {{/each}}       

        {{/if}}

        {{!-- flash message ends here --}}

        {{#block "content"}}
        {{/block}}
    </div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    {{#block "js"}}
    {{/block}}
  </body>
</html>