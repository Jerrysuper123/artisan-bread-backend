{{#extends 'base'}}

{{#block 'content'}}
<h1>My shopping cart</h1>
<a href="/cart/clearcart">Clear cart</a>
<ul class="list-group">
    {{#each shoppingCart}}
    <li class="list-group-item my-3">
        <h4>{{this.product.name}}</h4>
        <h5>Type: {{this.product.type.type}}</h5>
        <h5>Price: {{this.product.price}} </h5>        
        {{!-- <h5>Quantity{{this.quantity}}</h5>, below should pass product ID, corrected  --}}
             <form method="POST" action="/cart/{{this.product.id}}/quantity/update">
                   <input type="hidden" value="{{../csrfToken}}" name="_csrf"/> 
                   <h5>
                    Quantity: <input type="text" name="newQuantity" value="{{this.quantity}}" style="width:30px" /> 
                    <input type="submit" value="Update Quantity" class="btn btn-success btn-sm" />
                   </h5>
             </form>

           <div>
                <a href="/cart/{{this.product.id}}/remove" class="btn btn-danger">Remove</a>
            </div>  
    </li>
    {{/each}}
</ul>


{{/block}}

{{/extends}}